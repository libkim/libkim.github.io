---
layout: table
---

<button id="switchJapaneseBtn">あ</button>
<button id="switchKoreanBtn">가</button>
<button id="sortDateAscBtn">날짜오름차순</button>
<button id="sortDateDescBtn">날짜내림차순</button>

<table>
  <thead>
    <tr>
      <th>제목</th>
      <th>후속작</th>
      <th>극장판</th>
    </tr>
  </thead>
  <tbody id="anilistTableBody">
    {% assign sorted = site.data.anilist | sort: 'title' %}
    {% for product in sorted %}
      <tr>
        <td>{{ product.title }}</td>
        <td>
          {% for product in product.next %}
            {{ product.title }}<br>
          {% endfor %}
        </td>
        <td>
          {% for product in product.film %}
            {{ product.title }}<br>
          {% endfor %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  var tableBody = document.getElementById('anilistTableBody');
  var dateAscBtn = document.getElementById('sortDateAscBtn');
  var dateDescBtn = document.getElementById('sortDateDescBtn');
  var anilistData = {{ site.data.anilist | jsonify }};
  
  function sortTableByDate(order) {
    var sortedData = anilistData.sort(function(a, b) {
      var dateA = a.date.toUpperCase();
      var dateB = b.date.toUpperCase();
      if (dateA < dateB) {
        return order === 'asc' ? -1 : 1;
      }
      if (dateA > dateB) {
        return order === 'asc' ? 1 : -1;
      }
      return 0;
    });
    var sortedTable = '';
    for (var i = 0; i < sortedData.length; i++) {
      var product = sortedData[i];
      sortedTable += '<tr><td>' + product.title + '</td><td>' + product.date + '</td><td>';
      for (var j = 0; j < product.next.length; j++) {
        sortedTable += product.next[j].title + '<br>';
      }
      sortedTable += '</td><td>';
      for (var k = 0; k < product.film.length; k++) {
        sortedTable += product.film[k].title + '<br>';
      }
      sortedTable += '</td></tr>';
    }
    tableBody.innerHTML = sortedTable;
  }
  
  dateAscBtn.addEventListener('click', function() {
    sortTableByDate('asc');
  });
  
  dateDescBtn.addEventListener('click', function() {
    sortTableByDate('desc');
  });
</script>
