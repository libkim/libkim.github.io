---
layout: post
---

<div id="message" class="message">Click 'Deal' to start the game!</div>
<button id="deal" onclick="deal()">Deal</button>
<button id="hit" onclick="hit()">Hit</button>
<button id="stand" onclick="stand()">Stand</button>
<div id="player-hand"></div>
<div id="dealer-hand"></div>

<script>
// Define the card suits and ranks
const suits = ["Hearts", "Clubs", "Diamonds", "Spades"];
const ranks = [
  "Ace",
  "2",
  "3",
  "4",
  "5",
  "6",
  "7",
  "8",
  "9",
  "10",
  "Jack",
  "Queen",
  "King",
];

// Create a deck of cards
let deck = [];
for (let suit of suits) {
  for (let rank of ranks) {
    deck.push({ rank, suit });
  }
}

// Shuffle the deck
function shuffleDeck() {
  for (let i = deck.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [deck[i], deck[j]] = [deck[j], deck[i]];
  }
}

function deal() {
  shuffleDeck();

  // Clear hands
  document.getElementById("player-hand").innerHTML = "";
  document.getElementById("dealer-hand").innerHTML = "";

  // Deal two cards to the player
  const playerHand = [deck.pop(), deck.pop()];
  for (let card of playerHand) {
    showCard(card, "player-hand");
  }

  // Deal two cards to the dealer
  const dealerHand = [deck.pop(), deck.pop()];
  for (let card of dealerHand) {
    showCard(card, "dealer-hand");
  }

  // Enable/disable buttons
  document.getElementById("deal").disabled = true;
  document.getElementById("hit").disabled = false;
  document.getElementById("stand").disabled = false;

  // Update game message
  document.getElementById("message").textContent = "Choose to hit or stand.";
}

// Add a new card to the player's hand
function hit() {
  if (deck.length === 0) {
    // If the deck is empty, shuffle a new deck
    shuffleDeck();
  }

  // Deal a card to the player
  const card = deck.pop();
  showCard(card, "player-hand");

  // Check if the player busts (goes over 21)
  const playerScore = calculateScore(getHandValue("player-hand"));
  if (playerScore > 21) {
    endGame("You lose! Bust!");
  }
}

// End the game and determine the winner
function stand() {
  // Disable buttons
  document.getElementById("hit").disabled = true;
  document.getElementById("stand").disabled = true;

  // Reveal the dealer's hidden card
  const dealerCard = document.querySelector("#dealer-hand img:first

</script>