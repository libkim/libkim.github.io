---
layout: post
---

<h3>Choice Chip</h3>
<div class="choice chip" data-group="fruit1" data-value="apple">Apple</div>
<div class="choice chip" data-group="fruit1" data-value="banana">Banana</div>
<div class="choice chip" data-group="fruit1" data-value="orange">Orange</div>

<h3>Choice Chip</h3>
<div class="choice chip" data-group="fruit" data-value="apple">Apple</div>
<div class="choice chip" data-group="fruit" data-value="banana">Banana</div>
<div class="choice chip" data-group="fruit" data-value="orange">Orange</div>

<h3>Filter Chip</h3>
<div class="chip" data-value="apple">Apple</div>
<div class="chip" data-value="banana">Banana</div>
<div class="chip" data-value="orange">Orange</div>

<h3>Prompt</h3>
<div id="selectedValues"></div>

<button id="downloadButton">Download Tags</button>


<script>

const chips = document.querySelectorAll('.chip');

chips.forEach(chip => {
  if (chip.classList.contains('choice')) {
    chip.addEventListener('click', () => {
      if (chip.classList.contains('selected')) {
        chip.classList.remove('selected');
        updatePrompt();
      } else {
        const group = document.querySelectorAll(`[data-group='${chip.dataset.group}']`);
        group.forEach(chip => {
          chip.classList.remove("selected");
        });
        chip.classList.add("selected");
        updatePrompt();
      }
    });
  } else {
    chip.addEventListener('click', () => {
      chip.classList.toggle('selected');
      updatePrompt();
    });
  }
});

function updatePrompt() {
  const selectedChips = document.querySelectorAll(".chip.selected");
  const selectedValues = Array.from(selectedChips).map(chip => `${chip.dataset.value}`);
  document.getElementById('selectedValues').textContent = selectedValues.join(", ");
}

function downloadTags() {
  const tags = document.getElementById("selectedValues");
  const blob = new Blob([tags], {type: "text/plain;charset=utf-8"});
  const filename = "tags.txt";
  if (window.navigator.msSaveOrOpenBlob) {
    window.navigator.msSaveBlob(blob, filename);
  } else {
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = filename;
    link.click();
    URL.revokeObjectURL(link.href);
  }
}

const downloadButton = document.getElementById("downloadButton");

downloadButton.addEventListener("click", downloadTags);

</script>